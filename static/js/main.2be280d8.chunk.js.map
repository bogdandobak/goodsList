{"version":3,"sources":["components/ModalWindow/ModalWindow.jsx","components/ProductsList/ProductsList.jsx","components/Sorter/Sorter.jsx","api/api.js","components/ProductForm/ProductForm.jsx","App.jsx","index.jsx"],"names":["ModalWindow","onDelete","id","useState","open","setOpen","Modal","basic","onClose","onOpen","size","trigger","Button","Header","icon","Icon","name","Content","className","Actions","color","inverted","onClick","ProductsList","Route","sortedBy","params","enum","ProductListRoute","match","products","List","animated","verticalAlign","sort","current","next","localeCompare","count","map","product","Item","Image","avatar","src","imageUrl","Description","weight","to","linksData","uniqid","title","Sorter","link","BASE_URL","request","url","a","fetch","response","console","log","json","result","deleteProduct","method","createProduct","headers","body","JSON","stringify","comments","ProductForm","onCreate","width","height","inputQuery","setInputQuery","handleChange","event","target","value","Form","onSubmit","preventDefault","Input","label","placeholder","onChange","App","setProducts","useEffect","then","useCallback","prevProducts","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2be280d8.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Header, Icon, Modal,\n} from 'semantic-ui-react';\nimport './ModalWindow.scss';\n\nexport const ModalWindow = ({ onDelete, id }) => {\n  const [open, setOpen] = useState(false);\n\n  const handleDelete = () => {\n    onDelete(id);\n    setOpen(false);\n  };\n  return (\n    <Modal\n      basic\n      onClose={() => setOpen(false)}\n      onOpen={() => setOpen(true)}\n      open={open}\n      size=\"small\"\n      trigger={<Button>Delete</Button>}\n    >\n      <Header icon>\n        <Icon name=\"archive\" />\n        Delete product\n      </Header>\n      <Modal.Content>\n        <p className=\"text\">\n          Are you sure you want to delete this product?\n        </p>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button basic color=\"red\" inverted onClick={() => setOpen(false)}>\n          <Icon name=\"remove\" />\n          {' '}\n          No\n        </Button>\n        <Button color=\"green\" inverted onClick={handleDelete}>\n          <Icon name=\"checkmark\" />\n          {' '}\n          Yes\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nModalWindow.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  id: PropTypes.string.isRequired,\n};\n","/* eslint-disable array-callback-return */\n/* eslint-disable consistent-return */\nimport React from 'react';\nimport { List, Image } from 'semantic-ui-react';\nimport { Route } from 'react-router-hoc';\nimport { Link } from 'react-router-dom';\nimport { ModalWindow } from '../ModalWindow';\n\nconst ProductListRoute = Route({\n  sortedBy: Route.params.enum('none', 'name', 'count'),\n}, ({ sortedBy }) => `/${sortedBy}`);\n\nexport const ProductsList = ProductListRoute(({\n  match: { params: { sortedBy } },\n  products,\n  onDelete,\n}) => (\n  <div>\n    <List animated verticalAlign=\"middle\">\n      {products && products.sort((current, next) => {\n        switch (sortedBy) {\n          case 'name':\n            return current.name.localeCompare(next.name);\n\n          case 'count':\n            return current.count - next.count;\n\n          default:\n            break;\n        }\n      }).map((product) => (\n        <>\n          <List.Item key={product.id}>\n            <Image avatar src={product.imageUrl} />\n            <List.Content>\n              <List.Header>{product.name}</List.Header>\n              <List.Description>\n                {`Count: ${product.count}, weight: ${product.weight}`}\n              </List.Description>\n              <Link to=\"/productInfo\">\n                Product Description\n              </Link>\n              <ModalWindow id={product.id} onDelete={onDelete} />\n            </List.Content>\n\n          </List.Item>\n        </>\n      ))}\n    </List>\n  </div>\n));\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Button } from 'semantic-ui-react';\nimport uniqid from 'uniqid';\nimport { ProductsList } from '../ProductsList';\nimport './Sorter.scss';\n\nconst linksData = [\n  { sortedBy: 'name', id: uniqid(), title: 'Sorted by name' },\n  { sortedBy: 'count', id: uniqid(), title: 'Sorted by count' },\n];\n\nexport const Sorter = () => (\n  <ul className=\"sorters\">\n    {linksData.map((sort) => (\n      <li key={sort.id}>\n        <NavLink\n          to={ProductsList.link({ sortedBy: sort.sortedBy })}\n        >\n          <Button>\n            {sort.title}\n          </Button>\n        </NavLink>\n      </li>\n    ))}\n  </ul>\n);\n","/* eslint-disable no-console */\nimport uniqid from 'uniqid';\n\nconst BASE_URL = 'https://60645e8ff0919700177857e1.mockapi.io/';\n\n// eslint-disable-next-line consistent-return\nconst request = async (url) => {\n  const response = await fetch(`${BASE_URL}${url}`);\n  console.log(response);\n  const result = await response.json();\n\n  return result;\n};\n\nexport const deleteProduct = async (id) => {\n  const response = await fetch(\n    `${BASE_URL}/products/${id}`,\n    { method: 'DELETE' },\n  );\n\n  return response;\n};\n\nexport const createProduct = async (product) => {\n  const response = await fetch(`${BASE_URL}/products`, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify({\n      id: uniqid(),\n      imageUrl: product.imageUrl,\n      name: product.name,\n      size: product.size,\n      weight: product.weight,\n      comments: [],\n    }),\n  });\n\n  const result = await response.json();\n\n  return result;\n};\n\nexport const getProducts = () => request('products');\nexport const getComments = () => request('comments');\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Header, Icon, Modal, Form,\n} from 'semantic-ui-react';\n\nexport const ProductForm = ({ onCreate }) => {\n  const [open, setOpen] = useState(false);\n  const [inputQuery, setInputQuery] = useState({\n    imageUrl: '',\n    name: '',\n    count: 0,\n    width: 0,\n    height: 0,\n    weight: '',\n  });\n\n  const handleChange = (event) => {\n    const { value, name } = event.target;\n\n    setInputQuery({\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const {\n      imageUrl,\n      name,\n      count,\n      weight,\n      height,\n      width,\n    } = inputQuery;\n    console.log(inputQuery);\n\n    onCreate(imageUrl, name, count, weight, height, width);\n    setOpen(false);\n    setInputQuery({});\n  };\n\n  return (\n    <Modal\n      onClose={() => setOpen(false)}\n      onOpen={() => setOpen(true)}\n      open={open}\n      size=\"small\"\n      trigger={<Button>New Product</Button>}\n    >\n      <Header icon>\n        <Icon name=\"server\" />\n        Create Product\n      </Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit}>\n          <Form.Input\n            label=\"Image url\"\n            placeholder=\"Image url\"\n            name=\"imageUrl\"\n            value={inputQuery.imageUrl}\n            onChange={handleChange}\n          />\n          <Form.Input\n            label=\"Product name\"\n            placeholder=\"Product name\"\n            name=\"name\"\n            value={inputQuery.name}\n            onChange={handleChange}\n          />\n          <Form.Input\n            label=\"Count\"\n            placeholder=\"Count\"\n            name=\"count\"\n            value={inputQuery.count}\n            onChange={handleChange}\n          />\n\n          <Form.Input\n            label=\"Width\"\n            placeholder=\"Width\"\n            name=\"width\"\n            value={inputQuery.width}\n            onChange={handleChange}\n          />\n          <Form.Input\n            label=\"Height\"\n            placeholder=\"Height\"\n            name=\"height\"\n            value={inputQuery.height}\n            onChange={handleChange}\n          />\n          <Form.Input\n            label=\"Weight\"\n            placeholder=\"Weight\"\n            name=\"weight\"\n            value={inputQuery.weight}\n            onChange={handleChange}\n          />\n          <Button>Save</Button>\n          <Button onClick={() => setOpen(false)}>\n            Cancel\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nProductForm.propTypes = {\n  onCreate: PropTypes.func.isRequired,\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Switch, Redirect } from 'react-router-dom';\nimport './App.scss';\nimport { ProductsList } from './components/ProductsList';\nimport { Sorter } from './components/Sorter';\nimport { deleteProduct, getProducts, createProduct } from './api/api';\nimport { ProductForm } from './components/ProductForm';\n\nexport const App = () => {\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    getProducts()\n      .then(setProducts);\n  }, []);\n\n  const onDelete = useCallback(\n    (id) => {\n      deleteProduct(id);\n      setProducts((prevProducts) => prevProducts.filter((product) => product.id !== id));\n    }, [products],\n  );\n\n  const onCreate = useCallback(\n    async (product) => {\n      await createProduct({ ...product });\n    }, [],\n  );\n\n  return (\n    <div className=\"App\">\n      <h1>Products</h1>\n      <Sorter />\n      <ProductForm onCreate={onCreate} />\n      <Switch>\n        <ProductsList products={products} onDelete={onDelete} />\n        <Redirect to={ProductsList.link({ sortedBy: 'none' })} />\n      </Switch>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { App } from './App';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}