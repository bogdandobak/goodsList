(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{154:function(e,t,n){},168:function(e,t,n){},173:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(52),a=n.n(r),o=n(51),i=n(32),s=n.n(i),u=n(135),l=n(76),j=n(56),d=n(10),h=(n(154),n(188)),b=n(138),p=n(119),O=n(187),m=n(189),x=n(191),f=n(48),g=(n(168),n(6)),v=function(e){var t=e.onDelete,n=e.id,r=Object(c.useState)(!1),a=Object(j.a)(r,2),o=a[0],i=a[1];return Object(g.jsxs)(O.a,{basic:!0,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:o,size:"small",trigger:Object(g.jsx)(m.a,{children:"Delete"}),children:[Object(g.jsxs)(x.a,{icon:!0,children:[Object(g.jsx)(f.a,{name:"archive"}),"Delete product"]}),Object(g.jsx)(O.a.Content,{children:Object(g.jsx)("p",{className:"text",children:"Are you sure you want to delete this product?"})}),Object(g.jsxs)(O.a.Actions,{children:[Object(g.jsxs)(m.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return i(!1)},children:[Object(g.jsx)(f.a,{name:"remove"})," ","No"]}),Object(g.jsxs)(m.a,{color:"green",inverted:!0,onClick:function(){t(n),i(!1)},children:[Object(g.jsx)(f.a,{name:"checkmark"})," ","Yes"]})]})]})},w=Object(p.Route)({sortedBy:p.Route.params.enum("none","name","count")},(function(e){var t=e.sortedBy;return"/".concat(t)}))((function(e){var t=e.match.params.sortedBy,n=e.products,c=e.onDelete;return Object(g.jsx)("div",{children:Object(g.jsx)(h.a,{animated:!0,verticalAlign:"middle",children:n&&n.sort((function(e,n){switch(t){case"name":return e.name.localeCompare(n.name);case"count":return e.count-n.count}})).map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(h.a.Item,{children:[Object(g.jsx)(b.a,{avatar:!0,src:e.imageUrl}),Object(g.jsxs)(h.a.Content,{children:[Object(g.jsx)(h.a.Header,{children:e.name}),Object(g.jsx)(h.a.Description,{children:"Count: ".concat(e.count,", weight: ").concat(e.weight)}),Object(g.jsx)(o.b,{to:"/productInfo",children:"Product Description"}),Object(g.jsx)(v,{id:e.id,onDelete:c})]})]},e.id)})}))})})})),C=n(83),y=n.n(C),k=(n(173),[{sortedBy:"name",id:y()(),title:"Sorted by name"},{sortedBy:"count",id:y()(),title:"Sorted by count"}]),I=function(){return Object(g.jsx)("ul",{className:"sorters",children:k.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)(o.c,{to:w.link({sortedBy:e.sortedBy}),children:Object(g.jsx)(m.a,{children:e.title})})},e.id)}))})},S="https://60645e8ff0919700177857e1.mockapi.io/",D=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S).concat(t));case 2:return n=e.sent,console.log(n),e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/products/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/products"),{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify({id:y()(),imageUrl:t.imageUrl,name:t.name,size:t.size,weight:t.weight,comments:[]})});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=n(86),N=n(186),E=function(e){var t=e.onCreate,n=Object(c.useState)(!1),r=Object(j.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)({imageUrl:"",name:"",count:0,width:0,height:0,weight:""}),s=Object(j.a)(i,2),u=s[0],l=s[1],d=function(e){var t=e.target,n=t.value,c=t.name;l(Object(U.a)({},c,n))};return Object(g.jsxs)(O.a,{onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:a,size:"small",trigger:Object(g.jsx)(m.a,{children:"New Product"}),children:[Object(g.jsxs)(x.a,{icon:!0,children:[Object(g.jsx)(f.a,{name:"server"}),"Create Product"]}),Object(g.jsx)(O.a.Content,{children:Object(g.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var n=u.imageUrl,c=u.name,r=u.count,a=u.weight,i=u.height,s=u.width;console.log(u),t(n,c,r,a,i,s),o(!1),l({})},children:[Object(g.jsx)(N.a.Input,{label:"Image url",placeholder:"Image url",name:"imageUrl",value:u.imageUrl,onChange:d}),Object(g.jsx)(N.a.Input,{label:"Product name",placeholder:"Product name",name:"name",value:u.name,onChange:d}),Object(g.jsx)(N.a.Input,{label:"Count",placeholder:"Count",name:"count",value:u.count,onChange:d}),Object(g.jsx)(N.a.Input,{label:"Width",placeholder:"Width",name:"width",value:u.width,onChange:d}),Object(g.jsx)(N.a.Input,{label:"Height",placeholder:"Height",name:"height",value:u.height,onChange:d}),Object(g.jsx)(N.a.Input,{label:"Weight",placeholder:"Weight",name:"weight",value:u.weight,onChange:d}),Object(g.jsx)(m.a,{children:"Save"}),Object(g.jsx)(m.a,{onClick:function(){return o(!1)},children:"Cancel"})]})})]})},z=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){D("products").then(r)}),[]);var a=Object(c.useCallback)((function(e){B(e),r((function(t){return t.filter((function(t){return t.id!==e}))}))}),[n]),o=Object(c.useCallback)(function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(Object(u.a)({},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"Products"}),Object(g.jsx)(I,{}),Object(g.jsx)(E,{onCreate:o}),Object(g.jsxs)(d.Switch,{children:[Object(g.jsx)(w,{products:n,onDelete:a}),Object(g.jsx)(d.Redirect,{to:w.link({sortedBy:"none"})})]})]})};n(174);a.a.render(Object(g.jsx)(o.a,{children:Object(g.jsx)(z,{})}),document.getElementById("root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.2be280d8.chunk.js.map